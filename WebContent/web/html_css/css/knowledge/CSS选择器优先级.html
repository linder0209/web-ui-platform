<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>CSS基础——CSS选择器优先级</title>
        <link rel="stylesheet" href="../../../../platform/css/base.css" type="text/css"/>
        <link rel="stylesheet" href="../../../../platform/css/platform.css" type="text/css"/>
        <link rel="stylesheet" href="../../../../platform/css/theme/skyblue.css" type="text/css"/>
        <link rel="stylesheet" href="../../../../platform/css/web.css" type="text/css"/>
    </head>
    <body>
        <div class="h-web-paragraph">
            <p>CSS选择器的优先级又称作选择器的针对性，根据 CSS 2.1 规范的描述，选择器有其<strong>针对性</strong>（specificity），可以应用到某一元素的多个规则集中，选择器的<strong>针对性</strong>越高，该规则集的权重也就越高。<strong>针对性</strong>相同的，后出现的规则集的权重更高。 </p>
            <p><strong>针对性</strong>由 a b c d 四组数字组成，按照以下的方式计算：</p>
            <ul>
              <li>如果样式是在 HTML 代码中以 'style=...' 的内联样式的方式设置的，则将 a 组记为 1，b c d 三组均记为 0，否则 a 组为 0。</li>
              <li>将选择器中 ID 属性的数量总合计入 b 组。</li>
              <li>将选择器中其他属性及伪类的数量总合计入 c 组。</li>
              <li>将选择器中元素名及伪元素的数量总合计入 d 组。</li>
            </ul>
            <p>确定针对性的强弱时，根据各组的数字来计算。a 组数字大的针对性更强，当 a 组的数字相同时，比较 b 组数字的大小，以此类推，最终比较结果更大的针对性更强。举例如：</p>
            <pre>*             {}  /* a=0 b=0 c=0 d=0 -&gt; specificity = 0,0,0,0 */  
li            {}  /* a=0 b=0 c=0 d=1 -&gt; specificity = 0,0,0,1 */  
li:first-line {}  /* a=0 b=0 c=0 d=2 -&gt; specificity = 0,0,0,2 */  
ul li         {}  /* a=0 b=0 c=0 d=2 -&gt; specificity = 0,0,0,2 */  
ul ol+li      {}  /* a=0 b=0 c=0 d=3 -&gt; specificity = 0,0,0,3 */  
h1 *[id=ok]   {}  /* a=0 b=0 c=1 d=1 -&gt; specificity = 0,0,1,1 */  
ul ol li.red  {}  /* a=0 b=0 c=1 d=3 -&gt; specificity = 0,0,1,3 */  
li.red.level  {}  /* a=0 b=0 c=2 d=1 -&gt; specificity = 0,0,2,1 */  
#xyz          {}  /* a=0 b=1 c=0 d=0 -&gt; specificity = 0,1,0,0 */  
style="..."       /* a=1 b=0 c=0 d=0 -&gt; specificity = 1,0,0,0 */  </pre>
            <p>以上各组选择器，最后一行的内联样式针对性最强，倒数第二行有 ID 选择符的次之，往上的每一行依次减弱，最顶部的通配符针对性最弱。</p>
            <p>关于规则集的更多信息，请参考 CSS 2.1 规范 <a href="http://www.w3.org/TR/CSS21/syndata.html#rule-sets">4.1.7 Rule sets, declaration blocks, and selectors</a> 中的内容。</p>
            <p>关于<strong>针对性</strong>的更多信息，请参考 CSS 2.1 规范 <a href="http://www.w3.org/TR/CSS21/cascade.html#specificity">6.4.3 Calculating a selector's specificity</a> 中的内容。</p>
            <p>以上是参考<a href="http://www.w3help.org/zh-cn/causes/RS3005" target="_blank">http://www.w3help.org/zh-cn/causes/RS3005</a>中的总结。以下说明是更通俗的理解</p>
            <ul>
              <li>a: style 有记为1，无记为0</li>
              <li>b: id（#）有记为1，无记为0</li>
              <li>c: 属性和class的个数来计算的</li>
              <li>d: 元素和伪类的个数来计算的</li>
            </ul>
            <p><a href="http://www.w3help.org/zh-cn/causes/RS3005" target="_blank">参考</a></p>
        </div>
    </body>
</html>